# Requirements for Python 3.10.18 - RAG System
# Generated with version constraints for compatibility and security
# ===========================================
# WEB FRAMEWORK & API
# ===========================================
fastapi>=0.104.1,<0.106.0
uvicorn[standard]>=0.24.0,<0.25.0
pydantic>=2.5.0,<2.6.0
pydantic-settings>=2.1.0,<2.2.0
python-multipart>=0.0.6,<0.1.0
# ===========================================
# HTTP & NETWORKING
# ===========================================
httpx>=0.25.2,<0.26.0
requests>=2.31.0,<2.32.0
aiofiles>=23.1.0,<24.2.0
# ===========================================
# DATABASE & ORM
# ===========================================
sqlalchemy>=2.0.23,<2.1.0
psycopg2-binary>=2.9.9,<2.10.0
alembic>=1.12.1,<1.14.0
# ===========================================
# ENVIRONMENT & CONFIGURATION
# ===========================================
python-dotenv>=1.0.0,<1.1.0
# ===========================================
# DOCUMENT PARSING & RAG FRAMEWORK
# ===========================================
llama-parse>=0.4.4,<0.5.0
llama-index>=0.9.14,<0.11.0
# ===========================================
# LLAMA-INDEX EXTENSIONS
# ===========================================
llama-index-embeddings-huggingface>=0.1.4,<0.3.0
llama-index-embeddings-openai>=0.1.0,<0.3.0
llama-index-llms-openai>=0.1.0,<0.3.0
# ===========================================
# MACHINE LEARNING & EMBEDDINGS
# ===========================================
# PyTorch must be installed first with proper version that includes torch.uint64
torch>=2.0.0,<2.3.0
torchvision>=0.15.0,<0.18.0
torchaudio>=2.0.0,<2.3.0
# Safetensors compatible with PyTorch 2.0+
safetensors>=0.4.0,<0.5.0
# Transformers and related packages
transformers>=4.35.0,<5.0.0
tokenizers>=0.14.0,<0.16.0
sentence-transformers>=2.2.2,<3.0.0
# Scientific computing
scikit-learn>=1.3.0,<1.5.0
scipy>=1.11.0,<1.13.0
huggingface-hub>=0.19.0,<0.22.0
# ===========================================
# VECTOR DATABASE & LLM PROVIDERS
# ===========================================
# Note: pinecone-client is deprecated, using newer pinecone package
pinecone>=3.0.0,<5.0.0
groq>=0.4.1,<0.9.0
openai>=1.3.7,<2.0.0
# ===========================================
# DATA PROCESSING
# ===========================================
pandas>=2.1.4,<2.3.0
numpy>=1.24.3,<2.0.0
# ===========================================
# ADDITIONAL DEPENDENCIES (may be required)
# ===========================================
# Google Cloud dependencies for production deployment
google-cloud-secret-manager>=2.18.1,<3.0.0
google-cloud-logging>=3.8.0,<4.0.0
# Async support
asyncio-mqtt>=0.16.0,<0.17.0
# JSON handling improvements
orjson>=3.9.0,<4.0.0
# Better logging
python-json-logger>=2.0.7,<3.0.0
# Security
cryptography>=41.0.0,<43.0.0
# ===========================================
# DEVELOPMENT DEPENDENCIES (optional)
# ===========================================
# Uncomment for development
# pytest>=7.4.0,<8.0.0
# pytest-asyncio>=0.21.0,<0.22.0
# black>=23.0.0,<24.0.0
# flake8>=6.0.0,<7.0.0
# mypy>=1.5.0,<1.6.0
# ===========================================
# PLATFORM SPECIFIC NOTES
# ===========================================
# For Apple Silicon (M1/M2) users, you might need:
# tensorflow-macos>=2.13.0,<2.14.0  # Instead of regular tensorflow
# tensorflow-metal>=1.0.0,<1.1.0    # For GPU acceleration
# For CUDA support (NVIDIA GPU), install PyTorch with CUDA:
# torch>=2.1.0+cu118  # Replace +cu118 with your CUDA version
# ===========================================
# VERSION REASONING & FIXES
# ===========================================
# Python 3.10.18 compatibility considerations:
#
# FIXED ISSUES:
# 1. aiofiles: Changed from >=0.24.0,<0.25.0 to >=23.1.0,<24.2.0
#    - aiofiles uses calendar versioning (YY.M.PATCH)
#    - Available versions: 23.1.0, 23.2.0, 23.2.1, 24.1.0
#
# 2. PyTorch compatibility issue (torch.uint64 AttributeError):
#    - Ensured PyTorch >= 2.0.0 (torch.uint64 was introduced in PyTorch 2.0)
#    - Added safetensors constraint >=0.4.0 for compatibility
#    - Ordered PyTorch before transformers to ensure proper installation
#    - Added torchvision and torchaudio for complete PyTorch ecosystem
# 
# 3. Relaxed some upper bounds to be more flexible:
#    - llama-index: <0.11.0 (was <0.10.0)
#    - llama-index extensions: <0.3.0 (was <0.2.0)
#    - sentence-transformers: <3.0.0 (was <2.4.0)
#    - transformers: <5.0.0 (was <4.37.0)
#    - torch: <2.3.0 (was <2.2.0)
#    - Other packages: relaxed to next major version
#
# INSTALLATION ORDER RECOMMENDATION:
# For best results, install in this order:
# 1. pip install --upgrade pip wheel setuptools
# 2. pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
# 3. pip install -r requirements.txt
#
# ORIGINAL REASONING:
# 1. FastAPI 0.104.x: Stable release with Python 3.10 support
# 2. Pydantic 2.5.x: Major version 2 with performance improvements
# 3. SQLAlchemy 2.0.x: Modern async support, Python 3.10 compatible
# 4. PyTorch 2.0+: Required for torch.uint64 support
# 5. Transformers 4.35.x: HuggingFace latest stable
# 6. Pinecone 3.x: New SDK (pinecone-client is deprecated)
# 7. NumPy <2.0: Avoid compatibility issues with newer versions
# 8. Pandas 2.1.x: Stable release with good performance
#
# Security considerations:
# - All versions chosen to avoid known CVEs
# - Upper bounds prevent breaking changes
# - Lower bounds ensure required features are available